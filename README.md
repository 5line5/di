# Практика работы с DI-контейнером

1. Разминка. В классе Program переделайте Main так, чтобы MainForm 
создавался контейнером. Удалите у MainForm конструктор без параметров 
и сделайте так, чтобы контейнер инжектировал в MainForm список IUiAction.

2. INeed<T>. Изучите код KochFractalAction. 
Изучите механику работы INeed<T> и DependencyInjector.
Оцените такой подход к управлению зависимостями.


3. Рефакторинг. Измените класс KochFractalAction так, 
чтобы все его зависимости инжектировались явно через конструктор, 
без использования интерфейса INeed.

	Подсказка 1. Окружите создание MainForm в try-catch, 
	и выводите текст исключения на экран. Это поможет с отладкой.

	```MessageBox.Show(ex.ToString())```

	Подсказка 2. Сложность в том, чтобы в MainForm и KochFractalAction 
	оказались ссылки на один и тот же объект PictureBoxImageHandler.

4. Фабрика. Аналогично удалите INeed из класса DragonFractalAction.
Дополнительное ограничение — нельзя менять публичный интерфейс DragonPainter.
Особенность в том, что одна из зависимостей DragonPainter — 
DragonSettings оказывается известной только в процессе работы экшена.
Из-за этого вы не можете просить инжектировать в конструктор уже готовый Painter.
Вместо этого, используйте возможность инжектировать фабрику.
https://github.com/ninject/Ninject.Extensions.Factory/wiki/Factory-interface

5. Новая зависимость. Переведите DragonPainter на использование цветов палитры, 
как это сделано в KochPainter. 
Убедитесь, что экшен настройки палитры работает как надо.

6. Источник зависимости. Аналогично отрефакторите ImageSettingsAction.
Попробуйте придумать, как сделать так, чтобы ImageSettingsAction принимал 
в качестве зависимости не IImageSettingsProvider, а сам ImageSettings.

7. Избавьтесь от остальных использований INeed и удалите этот интерфейс 
и класс DependencyInjector из проекта.